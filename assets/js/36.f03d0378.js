(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{219:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"分布式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分布式","aria-hidden":"true"}},[t._v("#")]),t._v(" 分布式")]),t._v(" "),a("h2",{attrs:{id:"负责均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#负责均衡","aria-hidden":"true"}},[t._v("#")]),t._v(" 负责均衡")]),t._v(" "),a("h3",{attrs:{id:"lvs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lvs","aria-hidden":"true"}},[t._v("#")]),t._v(" LVS")]),t._v(" "),a("h3",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Nginx")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("请解释什么是C10K问题或者知道什么是C10K问题吗？https://blog.csdn.net/wangtaomtk/article/details/51811011 https://segmentfault.com/a/1190000007240744")])]),t._v(" "),a("li",[a("p",[t._v("正向代理和反向代理.")])]),t._v(" "),a("li",[a("p",[t._v("Nginx几种常见的负载均衡策略")]),t._v(" "),a("p",[t._v("轮询、加权轮询策略、ip hash、url hash、"),a("strong",[t._v("fair策略")]),t._v("和"),a("strong",[t._v("sticky策略")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("Nginx服务器上的Master和Worker进程分别是什么")]),t._v(" "),a("p",[t._v("master进程主要用来管理worker进程，包含：接收来自外界的信号，向各worker进程发送信号，监控worker进程的运行状态，当worker进程退出后(异常情况下)，会自动重新启动新的worker进程。")]),t._v(" "),a("p",[t._v("worker进程则处理基本的网络事件。多个worker进程之间是对等的，他们同等竞争来自客户端的请求，各进程互相之间是独立的。一个请求，只可能在一个worker进程中处理，一个worker进程，不可能处理其它进程的请求。worker进程的个数是可以设置的，一般我们会设置与机器cpu核数一致。")])]),t._v(" "),a("li",[a("p",[t._v("使用“反向代理服务器”的优点是什么?")]),t._v(" "),a("p",[t._v("反代理的好处有两个:1.充当防火墙2.可以使负载均衡")])])]),t._v(" "),a("h2",{attrs:{id:"缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存","aria-hidden":"true"}},[t._v("#")]),t._v(" 缓存")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("缓存雪崩、缓存穿透、缓存预热、缓存更新、缓存降级")]),t._v(" "),a("p",[t._v("缓存雪崩：是指在某一个时间段，缓存集中过期失效。")]),t._v(" "),a("p",[t._v("缓存穿透：是指查询一个数据库一定不存在的数据。解决办法：布隆过滤器，将所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉；空结果进行缓存，并设置一个过期时间。")]),t._v(" "),a("p",[t._v("缓存击穿：是指一个key非常热点，在不停的扛着大并发，大并发集中对这一个点进行访问，当这个key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库，就像在一个屏障上凿开了一个洞。")]),t._v(" "),a("p",[t._v("缓存预热：就是系统上线后，提前将相关的缓存数据直接加载到缓存系统。避免在用户请求的时候，先查询数据库，然后再将数据缓存的问题！用户直接查询事先被预热的缓存数据！")])]),t._v(" "),a("li",[a("p",[t._v("使用缓存的合理性问题")])])]),t._v(" "),a("h3",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis","aria-hidden":"true"}},[t._v("#")]),t._v(" Redis")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Redis 有哪些数据类型")]),t._v(" "),a("p",[t._v("字符串、哈希、集合、set、有序集合")])]),t._v(" "),a("li",[a("p",[t._v("Redis 内部结构")])]),t._v(" "),a("li",[a("p",[t._v("Redis 使用场景")]),t._v(" "),a("p",[t._v("KV存储、缓存、分布式锁")])]),t._v(" "),a("li",[a("p",[t._v("Redis 持久化机制")]),t._v(" "),a("p",[t._v("RDB持久化方式能够在指定的时间间隔能对你的数据进行快照存储。")]),t._v(" "),a("p",[t._v("AOF持久化方式记录每次对服务器写的操作,当服务器重启的时候会重新执行这些命令来恢复原始的数据,AOF命令以redis协议追加保存每次写的操作到文件末尾.Redis还能对AOF文件进行后台重写,使得AOF文件的体积不至于过大")])]),t._v(" "),a("li",[a("p",[t._v("Redis 集群方案与实现")]),t._v(" "),a("p",[t._v("服务端实现分片：gossip协议")]),t._v(" "),a("p",[t._v("客户端实现分片：分片、一致性hash算法")]),t._v(" "),a("p",[t._v("中间件实现分片：Twemproxy")])]),t._v(" "),a("li",[a("p",[t._v("Redis 为什么是单线程的？")]),t._v(" "),a("p",[t._v("redis 用 单个CPU 绑定一块内存的数据，然后针对这块内存的数据进行多次读写的时候，都是在一个CPU上完成的，所以它是单线程处理这个事。在内存的情况下，这个方案就是最佳方案")])]),t._v(" "),a("li",[a("p",[t._v("Redis中zSet跳跃表问题；")])]),t._v(" "),a("li",[a("p",[t._v("Redis的set的应用场合？")])]),t._v(" "),a("li",[a("p",[t._v("Redis高级特性了解吗？")])]),t._v(" "),a("li",[a("p",[t._v("Redis的pipeline有什么用处？")])]),t._v(" "),a("li",[a("p",[t._v("Redis集群宕机如何处理，怎么样进行数据的迁移；")])]),t._v(" "),a("li",[a("p",[t._v("Redis过期策略是怎么实现的呢？")])]),t._v(" "),a("li",[a("p",[t._v("Redis常见的回收策略")])]),t._v(" "),a("li",[a("p",[t._v("Redis插槽的分配（key的有效部分使用CRC16算法计算出哈希值，再将哈希值对16384取余，得到插槽值）;")])]),t._v(" "),a("li",[a("p",[t._v("Redis主从是怎么选取的")]),t._v(" "),a("p",[t._v("一种是主动切换，另一种是使用sentinel自动方式;")])]),t._v(" "),a("li",[a("p",[t._v("Redis复制的过程;")])]),t._v(" "),a("li",[a("p",[t._v("Redis队列应用场景；")])]),t._v(" "),a("li",[a("p",[t._v("Redis主节点宕机了怎么办，还有没有同步的数据怎么办;")])])]),t._v(" "),a("h2",{attrs:{id:"消息队列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#消息队列","aria-hidden":"true"}},[t._v("#")]),t._v(" 消息队列")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("消息队列的使用场景")]),t._v(" "),a("p",[t._v("队列、异步、削峰")])]),t._v(" "),a("li",[a("p",[t._v("消息的重发补偿解决思路")]),t._v(" "),a("p",[t._v("可靠消息服务定时查询状态为已发送并超时的消息")]),t._v(" "),a("p",[t._v("可靠消息将消息重新投递到 MQ 组件中")]),t._v(" "),a("p",[t._v("下游应用监听消息，在满足幂等性的条件下，重新执行业务。")]),t._v(" "),a("p",[t._v("下游应用通知可靠消息服务该消息已经成功消费。")]),t._v(" "),a("p",[t._v("通过消息状态确认和消息重发两个功能，可以确保上游应用、可靠消息服务和下游应用数据的最终一致性。")])]),t._v(" "),a("li",[a("p",[t._v("消息的幂等性解决思路")]),t._v(" "),a("p",[t._v("1、查询一次和查询多次，在数据不变的情况下，查询结果是一样的。"),a("code",[t._v("select")]),t._v(" 是天然的幂等操作")]),t._v(" "),a("p",[t._v("2、删除操作也是幂等的，删除一次和多次删除都是把数据删除。(注意可能返回结果不一样，删除的数据不存在，返回0，删除的数据多条，返回结果多个)")]),t._v(" "),a("p",[t._v("3、唯一索引，防止新增脏数据")]),t._v(" "),a("p",[t._v("4、防止页面重复提交")]),t._v(" "),a("p",[t._v("5、获取数据的时候加锁获取")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("select * from table_xxx where id='xxx' for update;\n")])])]),a("p",[t._v("注意：id字段一定是主键或者唯一索引，不然是锁表，会死人的")]),t._v(" "),a("p",[t._v("悲观锁使用时一般伴随事务一起使用，数据锁定时间可能会很长，根据实际情况选用")]),t._v(" "),a("p",[t._v("6、乐观锁只是在更新数据那一刻锁表，其他时间不锁表，所以相对于悲观锁，效率更高。")]),t._v(" "),a("p",[t._v("7、redis或zookeeper分布式锁")]),t._v(" "),a("p",[t._v("8、对外提供的接口，如银联提供的付款接口：需要接入商户提交付款请求时附带："),a("code",[t._v("source")]),t._v(" 来源，"),a("code",[t._v("seq")]),t._v(" 序列号 "),a("code",[t._v("source + seq")]),t._v(" 在数据库里面做唯一索引，防止多次付款，(并发时，只能处理一个请求)")])]),t._v(" "),a("li",[a("p",[t._v("消息的堆积解决思路")]),t._v(" "),a("p",[t._v("队列设置合理的分区，增加并行度")]),t._v(" "),a("p",[t._v("增加消费线程数，一个分区一个线程")])]),t._v(" "),a("li",[a("p",[t._v("自己如何实现消息队列")])]),t._v(" "),a("li",[a("p",[t._v("如何保证消息的有序性")]),t._v(" "),a("ol",[a("li",[t._v("通过轮询所有队列的方式来确定消息被发送到哪一个队列（负载均衡策略）。订单号相同的消息会被先后发送到同一个队列中，")]),t._v(" "),a("li",[t._v("在获取到路由信息以后，会根据算法来选择一个队列，同一个 OrderId 获取到的肯定是同一个队列。")])])]),t._v(" "),a("li",[a("p",[t._v("Kafka使用过吗，什么是幂等性？怎么保证一致性，持久化怎么做，分区partition的理解，LEO是什么意思，如何保证多个partition之间数据一致性的（ISR机制），为什么Kafka可以这么快（基于磁盘的顺序读写）；")])])]),t._v(" "),a("h2",{attrs:{id:"分布式事务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分布式事务","aria-hidden":"true"}},[t._v("#")]),t._v(" 分布式事务")]),t._v(" "),a("h2",{attrs:{id:"分布式锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分布式锁","aria-hidden":"true"}},[t._v("#")]),t._v(" 分布式锁")]),t._v(" "),a("h2",{attrs:{id:"全文检索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全文检索","aria-hidden":"true"}},[t._v("#")]),t._v(" 全文检索")]),t._v(" "),a("h2",{attrs:{id:"分布式其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分布式其他","aria-hidden":"true"}},[t._v("#")]),t._v(" 分布式其他**")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("谈谈业务中使用分布式的场景")])]),t._v(" "),a("li",[a("p",[t._v("Session 分布式方案")])]),t._v(" "),a("li",[a("p",[t._v("Session 分布式处理")])]),t._v(" "),a("li",[a("p",[t._v("分布式锁的应用场景、分布式锁的产生原因、基本概念")])]),t._v(" "),a("li",[a("p",[t._v("分布是锁的常见解决方案")])]),t._v(" "),a("li",[a("p",[t._v("分布式事务的常见解决方案")])]),t._v(" "),a("li",[a("p",[t._v("集群与负载均衡的算法与实现")])]),t._v(" "),a("li",[a("p",[t._v("说说分库与分表设计，可参考《"),a("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MzI1NDQ3MjQxNA==&mid=2247483931&idx=1&sn=6eda41aa81c1243422a603205d2fad22&chksm=e9c5fbaadeb272bc92537803c14a6f55e1170b1a3b8f60160f66417800c0ace960dfe192717a&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[t._v("数据库分库分表策略的具体实现方案"),a("OutboundLink")],1),t._v("》")])]),t._v(" "),a("li",[a("p",[t._v("分库与分表带来的分布式困境与应对之策")])]),t._v(" "),a("li",[a("p",[t._v("分布式系统中，每台机器如何产生一个唯一的随机值；")])]),t._v(" "),a("li",[a("p",[t._v("分布式理论，什么是CAP理论，什么是Base理论，什么是Paxos理论；")])]),t._v(" "),a("li",[a("p",[t._v("分布式协议的选举算法；")])]),t._v(" "),a("li",[a("p",[t._v("说一下你对微服务的理解，与SOA的区别；")])]),t._v(" "),a("li",[a("p",[t._v("Dubbo的基本原理，RPC，支持哪些通信方式，服务的调用过程；")])]),t._v(" "),a("li",[a("p",[t._v("Dubbo如果有一个服务挂掉了怎么办；")])]),t._v(" "),a("li",[a("p",[t._v("分布式事务，操作两个表不在一个库，如何保证一致性。")])]),t._v(" "),a("li",[a("p",[t._v("分布式系统中，每台机器如何产生一个唯一的随机值")])]),t._v(" "),a("li",[a("p",[t._v("你项目的并发是多少？怎么解决高并发问题？单机情况下Tomcat的并发大概是多少，MySQL的并发大致是多少？")])]),t._v(" "),a("li")]),t._v(" "),a("h2",{attrs:{id:"安全问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全问题","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("安全问题")])]),t._v(" "),a("ul",[a("li",[t._v("如何防范常见的Web攻击、如何方式SQL注入")]),t._v(" "),a("li",[t._v("服务端通信安全攻防")]),t._v(" "),a("li",[t._v("HTTPS原理剖析、降级攻击、HTTP与HTTPS的对比")]),t._v(" "),a("li",[t._v("什么是XSS攻击，XSS攻击的一般表现形式有哪些？如何防止XSS攻击；")])]),t._v(" "),a("h2",{attrs:{id:"性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#性能优化","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("性能优化")])]),t._v(" "),a("ul",[a("li",[t._v("性能指标有哪些")]),t._v(" "),a("li",[t._v("如何发现性能瓶颈")]),t._v(" "),a("li",[t._v("性能调优的常见手段")]),t._v(" "),a("li",[t._v("说说你在项目中如何进行性能调优")])]),t._v(" "),a("h2",{attrs:{id:"系统设计相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统设计相关","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统设计相关")]),t._v(" "),a("ul",[a("li",[t._v("如何防止表单重复提交（Token令牌环等方式）；")]),t._v(" "),a("li",[t._v("有一个url白名单，需要使用正则表达式进行过滤，但是url量级很大，大概亿级，那么如何优化正则表达式？如何优化亿级的url匹配呢？")]),t._v(" "),a("li",[t._v("常见的Nginx负载均衡策略；已有两台Nginx服务器了，倘若这时候再增加一台服务器，采用什么负载均衡算法比较好？")]),t._v(" "),a("li",[t._v("扫描二维码登录的过程解析；")]),t._v(" "),a("li",[t._v("如何设计一个生成唯一UUID的算法？")]),t._v(" "),a("li",[t._v("实现一个负载均衡的算法，服务器资源分配为70%、20%、10%；")]),t._v(" "),a("li",[t._v("有三个线程T1 T2 T3，如何保证他们按顺序执行；")]),t._v(" "),a("li",[t._v("三个线程循环输出ABCABCABC….")])]),t._v(" "),a("h1",{attrs:{id:"系统设计开放性题目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统设计开放性题目","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("系统设计开放性题目")])]),t._v(" "),a("ul",[a("li",[t._v("秒杀系统设计，超卖怎么搞;")]),t._v(" "),a("li",[t._v("你们的图片时怎么存储的，对应在数据库中时如何保存图片的信息的？")]),t._v(" "),a("li",[t._v("假如成都没有一座消防站，现在问你要建立几座消防站，每个消防站要配多少名消防官兵，多少辆消防车，请你拿出一个方案；")]),t._v(" "),a("li",[t._v("基于数组实现一个循环阻塞队列；")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Condition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 使用数组实现阻塞队列\n * @author zhouy\n *\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lock")]),t._v(" lock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReentrantLock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" startIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("endIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//初始化时，默认值为0,count 定义为队列中元素的数目")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Condition")]),t._v(" notfull "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newCondition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Condition")]),t._v(" notempty "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newCondition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"存放值"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"队列已满，阻塞put线程"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t\tnotfull"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("await")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\te"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\titem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("startIndex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\tcount"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("startIndex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\tstartIndex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\tnotempty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取锁不能写在try块中，如果发生异常，锁会被释放")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"队列空了，阻塞take线程"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t\tnotempty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("await")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\te"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("endIndex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"取值"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\tcount"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("endIndex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\tendIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\tnotfull"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("常见的ipv4地址的展现形式如“168.0.0.1”，请实现ip地址和int类型的相互转换。（使用位移的方式）")]),t._v(" "),a("li",[t._v("现网某个服务部署在多台Liunx服务器上，其中一台突然出现CPU 100%的情况，而其他服务器正常，请列举可能导致这种情况发生的原因？如果您遇到这样的情况，应如何定位？内存？CPU？发布？debug？请求量？")])]),t._v(" "),a("h1",{attrs:{id:"大数据量问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大数据量问题","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("大数据量问题")])]),t._v(" "),a("ul",[a("li",[t._v("给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url？")]),t._v(" "),a("li",[t._v("海量日志数据，提取出某日访问百度次数最多的那个IP；")]),t._v(" "),a("li",[t._v("一个文本文件，大约有一万行，每行一个词，要求统计出其中最频繁出现的前10个词，请给出思想，给出时间复杂度分析。")])]),t._v(" "),a("p",[t._v("此话题后边会有专门的文章探讨，如果有等不及的小伙伴，可以移步参考：")]),t._v(" "),a("p",[t._v("1、"),a("a",{attrs:{href:"https://blog.csdn.net/v/_july/_v/article/details/6279498",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/v_july_v/article/details/6279498"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("2、"),a("a",{attrs:{href:"https://blog.csdn.net/v/_july/_v/article/details/7382693",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/v_july_v/article/details/7382693"),a("OutboundLink")],1)])])},[],!1,null,null,null);s.default=e.exports}}]);